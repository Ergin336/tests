import numpy as np
import tensorflow as tf

model = tf.keras.models.load_model('palwatch_modeltest.hdf5')
test_record = [[ 0.284,   0.0116, -0.2417,  0.0922, -0.1652,  0.5817, -0.1591,  0.0307, -0.3953,
   0.1577, -0.1516, -0.0041, -0.0519, -0.1229, -0.069,  -0.1249,  0.0731, -0.071,
  -0.0635, -0.1843,  0.0922, -0.0635,  0.1208, -0.0307,  0.002,  -0.3837, -0.0635,
  -0.2512,  0.0976, -0.2533,  0.4704, -0.2724, -0.0307,  0.2362, -0.0881, -0.0457,
   0.1304,  0.2902, -0.0997,  0.071 ,  0.0212, -0.1789, -0.2342, -0.1072, -0.0669,
  -0.1461,  0.1768, -0.2035,  0.3803, -0.2594,  0.0594, -0.1864,  0.1591, -0.0867,
   0.0423,  0.1386,  0.1174,  0.2403, -0.0922,  0.269 ,  0.1058,  0.211 , -0.2574,
   0.1516,  0.1038, -0.1557, -0.2205,  0.2383, -0.0348, -0.142 , -0.0403, -0.1611,
  -0.1441, -0.2246,  0.14  , -0.2383, -0.0785, -0.1611, -0.1324,  0.0287,  0.1916,
   0.0386,  0.9905, -0.0565,  0.5101,  0.8644,  0.7093,  0.0565,  0.9905,  0.2654,
  -0.2192,  0.6031,  0.7499,  0.1282,  0.1048,  0.9905, -0.2654,  0.4963,  0.7444,
   0.1606,  0.1399, 0.9774 ,-0.3874 , 0.8278 , 0.8857 , 0.3957 , 0.0365 , 0.9905,
   0.1413,  0.0834,  0.6803,  0.6686,  0.0951, -0.3315,  0.4708,  0.5314,  0.9809,
   0.1627,  0.63,    0.8492, -0.4184,  0.5542,  0.5935,  0.0855,  0.1261,  0.9905,
  -0.1999,  0.508,   0.6748,  0.7175,  0.1068,  0.985 ,  0.3295, -0.2847,  0.6569,
   0.8782,  0.8044,  0.1937,  0.6493,  0.7293,  0.0138,  0.5797,  0.4556,  0.3626,
   0.1765,  0.2461,  0.9884, -0.1668, -0.386 ,  0.3315,  0.5294,  0.1551,  0.182,
   0.9871, -0.0889,  0.213 ,  0.1902,  0.1496,  0.9905, -0.0758,  0.0288,  0.0414,
   0.4427, -0.1515,  0.7501,  0.0724,  0.3097,  0.1389,  0.1079,  0.2535, -0.1811,
  -0.4279,  0.2498,  0.1892, -0.0103,  0.351 , -0.2372,  0.3119,  0.337 ,  0.2055,
  -0.0953,  0.3429, -0.3326,  0.2683,  0.1375,  0.2372,  0.0436,  0.2993,  0.1123,
   0.4139,  0.0562,  0.3496,  0.0769, -0.3267, -0.3488, -0.0148,  0.2409,  0.0621,
  -0.1478,  0.4597, -0.3991, -0.0436,  0.0207,  0.1914, -0.0185,  0.4116, -0.1042,
   0.7752,  0.2099,  0.2993,  0.1205, -0.0436,  0.2284, -0.235 ,  0.6274,  0.4198,
   0.1995,  0.0539, -0.085 ,  0.3658,  0.1434,  0.4139, -0.1722,  0.0044,  0.0953,
  -0.0022,  0.2742, -0.116 , -0.4242, -0.4323,  0.0126,  0.1766,  0.0059,  0.3244,
   0.0103,  0.6045,  0.1766,  0.0414,  0.4346, -0.0207]]

keras_prediction = np.argmax(model.predict(test_record), axis=1)
prediction = keras_prediction[0]
print(prediction)

with open("output.txt", "a") as text_file:
  text_file.write(str(prediction))
text_file.close()
